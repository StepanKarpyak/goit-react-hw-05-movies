"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[155],{1454:function(n,e,t){t.d(e,{Z:function(){return a}});var r,c=t(8602),o=t(168),i=t(5751).ZP.div(r||(r=(0,o.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),u=t(184),a=function(){return(0,u.jsx)(i,{children:(0,u.jsx)(c.s,{size:50,thickness:100,speed:100,color:"#1eee0b",secondaryColor:"rgba(0, 0, 0, 0.44)"})})}},4668:function(n,e,t){t.d(e,{qw:function(){return p},Md:function(){return l},Mc:function(){return d},xc:function(){return m},Hx:function(){return v}});var r=t(5861),c=t(7757),o=t.n(c),i=t(4569),u=t.n(i),a="330e0c7492d2da195764b5f6a5017e6c",s="https://api.themoviedb.org/3";function p(){return f.apply(this,arguments)}function f(){return(f=(0,r.Z)(o().mark((function n(){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u().get("".concat(s,"/trending/movie/day?api_key=").concat(a));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function l(n){return h.apply(this,arguments)}function h(){return(h=(0,r.Z)(o().mark((function n(e){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u().get("".concat(s,"/search/movie?api_key=").concat(a,"&language=en-US&query=").concat(e,"&include_adult=false"));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function d(n){return x.apply(this,arguments)}function x(){return(x=(0,r.Z)(o().mark((function n(e){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u().get("".concat(s,"/movie/").concat(e,"?api_key=").concat(a));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function m(n){return y.apply(this,arguments)}function y(){return(y=(0,r.Z)(o().mark((function n(e){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u().get("".concat(s,"/movie/").concat(e,"/credits?api_key=").concat(a));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function v(n){return g.apply(this,arguments)}function g(){return(g=(0,r.Z)(o().mark((function n(e){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u().get("".concat(s,"/movie/").concat(e,"/reviews?api_key=").concat(a));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})))).apply(this,arguments)}},155:function(n,e,t){t.r(e),t.d(e,{MoviesPage:function(){return k}});var r,c,o,i,u=t(885),a=t(2791),s=t(501),p=t(6871),f=t(8479),l=t(168),h=t(5751),d=h.ZP.div(r||(r=(0,l.Z)(["\n  padding: 20px;\n"]))),x=h.ZP.form(c||(c=(0,l.Z)(["\n  display: flex;\n  align-items: center;\n"]))),m=h.ZP.input(o||(o=(0,l.Z)(["\n  display: inline-block;\n  margin-right: 15px;\n  width: 20%;\n  border-radius: 5px;\n  font-size: 20px;\n  outline: none;\n  border-color: dimgrey;;\n  &::placeholder {\n    font: inherit;\n    font-size: 18px;\n  }\n"]))),y=h.ZP.button(i||(i=(0,l.Z)(["\ndisplay: inline-block;\n  width: 10%;\n  height: 29px;\n  border: 0;\n  cursor: pointer;\n  outline: none;\n  opacity: 0.8;\n  background-color: slategrey;\n  border-radius: 5px;\n\n  &:hover, &:focus {\n    opacity: 1;\n  }\n"]))),v=t(184);var g=function(n){var e=n.propSubmit,t=(0,a.useState)(""),r=(0,u.Z)(t,2),c=r[0],o=r[1];return(0,v.jsx)(d,{children:(0,v.jsxs)(x,{onSubmit:function(n){n.preventDefault(),""!==c.trim()?(e(c),o("")):f.ZP.error("Please, fill in the field of search")},children:[(0,v.jsx)(m,{type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movies by keyword",value:c,onChange:function(n){var e=n.currentTarget.value;o(e)}}),(0,v.jsx)(y,{type:"submit",children:"Search"})]})})},b=t(4668),Z=t(1454);function k(){var n=(0,a.useState)([]),e=(0,u.Z)(n,2),t=e[0],r=e[1],c=(0,a.useState)(null),o=(0,u.Z)(c,2),i=o[0],l=o[1],h=(0,a.useState)(!1),d=(0,u.Z)(h,2),x=d[0],m=d[1],y=(0,s.lr)(),k=(0,u.Z)(y,2),w=k[0],j=k[1],S=w.get("value"),_=(0,p.TH)();return(0,a.useEffect)((function(){""!==S&&S&&(m(!0),(0,b.Md)(S).then((function(n){var e=n.data.results;if(0===e.length)return f.Am.error("Sorry, there are no movies. Try another request...");r(e)})).catch((function(n){l(n)})).finally((function(){setTimeout((function(){m(!1)}),1e3)})))}),[S]),(0,v.jsxs)("div",{children:[(0,v.jsx)(f.x7,{position:"top-right"}),(0,v.jsx)(g,{propSubmit:function(n){j({value:n})}}),x&&(0,v.jsx)(Z.Z,{}),(0,v.jsx)("ul",{children:t.map((function(n){var e=n.id,t=n.title,r=n.name;return(0,v.jsx)("li",{children:(0,v.jsx)(s.rU,{to:"".concat(e),state:{from:_},children:t||r})},e)}))}),i&&(0,v.jsx)("h2",{children:"Whoops, something went wrong: error."})]})}}}]);
//# sourceMappingURL=155.5907c404.chunk.js.map